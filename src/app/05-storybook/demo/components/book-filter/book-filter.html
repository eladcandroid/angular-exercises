<div class="book-filter">
  <div class="filter-header">
    <h3 class="filter-title">住 住驻专</h3>
    @if (hasActiveFilters()) {
      <button
        type="button"
        class="clear-btn"
        (click)="clearFilters()"
        aria-label="拽 住">
        拽 
      </button>
    }
  </div>

  <div class="filter-controls">
    <!-- Category Filter -->
    <div class="filter-group">
      <label for="category-select" class="filter-label">
        <span class="label-icon"></span>
        拽专
      </label>
      <select
        id="category-select"
        class="filter-select"
        [(ngModel)]="selectedCategory"
        (ngModelChange)="onCategoryChange()"
        aria-label="专 拽专">
        <option value=""> 拽专转</option>
        @for (category of categories(); track category) {
          <option [value]="category">{{ category }}</option>
        }
      </select>
    </div>

    <!-- Search Filter -->
    <div class="filter-group">
      <label for="search-input" class="filter-label">
        <span class="label-icon"></span>
        驻砖
      </label>
      <input
        id="search-input"
        type="text"
        class="filter-input"
        [(ngModel)]="searchQuery"
        (ngModelChange)="onSearchChange()"
        placeholder="驻砖 住驻专  专..."
        aria-label="驻砖 住驻专  专"
      />
    </div>
  </div>

  @if (hasActiveFilters()) {
    <div class="active-filters">
      <span class="active-filters-label">住 驻注:</span>
      @if (selectedCategory()) {
        <span class="filter-tag">
          {{ selectedCategory() }}
          <button
            type="button"
            class="remove-tag"
            (click)="selectedCategory.set(''); onCategoryChange()"
            aria-label="住专 住 拽专">
            
          </button>
        </span>
      }
      @if (searchQuery()) {
        <span class="filter-tag">
          "{{ searchQuery() }}"
          <button
            type="button"
            class="remove-tag"
            (click)="searchQuery.set(''); onSearchChange()"
            aria-label="住专 驻砖">
            
          </button>
        </span>
      }
    </div>
  }
</div>
