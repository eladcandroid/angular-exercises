<div class="task-item" [class.completed]="task().completed" [class.overdue]="isOverdue()">
  <div class="task-checkbox">
    <input
      type="checkbox"
      [checked]="task().completed"
      (change)="onToggle()"
      [id]="'task-' + task().id"
    />
  </div>

  <div class="task-content">
    <label [for]="'task-' + task().id" class="task-title">
      {{ task().title }}
    </label>

    @if (task().description) {
      <p class="task-description">{{ task().description }}</p>
    }

    <div class="task-meta">
      <span class="task-category badge">{{ task().category }}</span>
      <span class="task-priority badge" [class]="priorityClass()">
        {{ task().priority }}
      </span>
      @if (task().dueDate) {
        <span class="task-due-date" [class.overdue]="isOverdue()">
          @if (isOverdue()) {
            <span class="overdue-indicator">⚠️</span>
          }
          {{ task().dueDate | date: 'MMM d, y' }}
        </span>
      }
    </div>
  </div>

  <div class="task-actions">
    <button
      type="button"
      class="btn-icon btn-edit"
      (click)="onEdit()"
      aria-label="Edit task"
      title="Edit"
    >
      ✏️
    </button>
    <button
      type="button"
      class="btn-icon btn-delete"
      (click)="onDelete()"
      aria-label="Delete task"
      title="Delete"
    >
      🗑️
    </button>
  </div>
</div>
